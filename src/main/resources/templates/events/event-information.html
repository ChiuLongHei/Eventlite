<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">
<head>
  <title>Event Information</title>

  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>

</head>
<body>
  <div layout:fragment="content">
  	<dl>
  		<dd th:text="'Event: ' + ${event.name}">Event name</dd>
  		<dd th:text="'Date: ' +${event.date}">Event date</dd>
  		<dd th:text="'Time: ' +${event.time}">Event time</dd>
		<dd th:text="'Venue ' + ${event.venue.name}">Event venue name</dd>
		<dd th:text="'Event Description: ' +${event.description}"</dd>
    </dl>
    <p></p>
    <p>Get back to the <a href = "/events">list of events</a> page.</p>
    
 
  <div id="map"></div>
    <script th:inline="javascript">
      /*<![CDATA[*/
		  mapboxgl.accessToken = 'pk.eyJ1IjoiZDNubmlzdXR1IiwiYSI6ImNsMm0xYmpyYTBpcnAzYm11N3JuY2k0c3MifQ.xKR2OruW0ljKvKjBnusWvg';
		  const map = new mapboxgl.Map({
			  container: 'map',
			  style: 'mapbox://styles/mapbox/streets-v11',
			  center: [2.2426, 53.4808],
			  zoom: 5
		  });
		  
		  /*[# th:each="e : ${venues}"]*/
	      		new mapboxgl.Marker().setLngLat([ /*[[${e.longitude}]]*/, /*[[${e.latitude}]]*/ ]).addTo(map);
	      /*[/]*/

	  /*]]>*/
    </script>
  

  </div>
</body>
</html>